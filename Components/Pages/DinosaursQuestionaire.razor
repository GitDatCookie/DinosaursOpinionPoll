@page "/questionaire/{PublicToken}"
@using AI_Project.Models.OrderModels
@using MudBlazor

@inject IUserService UserService
@inject IQuestionaireService QuestionaireService

<DynamicComponentComponent IsItemEditable="false" ItemType="EItemType.Question" QuestionType="EQuestionType.CheckBox"/>

@code {
    [Parameter]
    public string PublicToken { get; set; }

    private QuestionaireViewModel questionaire {get; set; }
    private SubjectUserViewModel userViewModel {get; set; }

    protected override async Task OnInitializedAsync()
    {
        userViewModel = UserService.CreateSubjectUser();
        questionaire = await QuestionaireService.GetQuestionaireViewModelByTokenAsync(PublicToken, userViewModel.IsTreatmentGroup);

    }
}
